DECLARE
    is_lifefit CHAR(8);
BEGIN
    SELECT COUNT(*) INTO is_lifefit FROM DBA_TABLESPACES WHERE TABLESPACE_NAME = 'TS_LIFEFIT';
    IF (is_lifefit > 0) THEN
        DROP TABLESPACE TS_LIFEFIT;
    END IF;

    IF (USER = 'LIFEFIT') THEN
        FOR T IN (SELECT TABLE_NAME FROM USER_TABLES) LOOP
            EXECUTE IMMEDIATE 'DROP TABLE '|| T.TABLE_NAME || ' CASCADE COSNTRAINTS';
        END LOOP;
    END IF;
END;
/